<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learn European Portuguese - Free Interactive Course</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">üáµüáπ PortuLingo</div>
            <div class="nav-links">
                <a href="#home">Home</a>
                <a href="#learn">Learn</a>
                <a href="#vault">My Vault</a>
                <a href="#dashboard">Dashboard</a>
                <button class="btn-premium" id="premiumBtn">Go Premium</button>
            </div>
        </div>
    </nav>

    <section id="home" class="hero">
        <div class="hero-content">
            <h1>Master European Portuguese</h1>
            <p>Learn word by word with interactive lessons and engaging practice</p>
            <button class="btn-start" id="startBtn">Start Learning Free</button>
        </div>
        <div class="hero-animation">
            <div class="floating-word" data-word="Ol√°">Ol√° üëã</div>
            <div class="floating-word" data-word="Obrigado">Obrigado üôè</div>
            <div class="floating-word" data-word="Portugal">Portugal üáµüáπ</div>
        </div>
    </section>

    <section id="learn" class="learning-section">
        <div class="learning-header">
            <div>
                <h2>Begin Your Journey</h2>
                <p class="muted">Pick a topic and start listening.</p>
            </div>
            <div class="speaker-toggle">
                <label><input type="radio" name="speakerGender" value="male" checked> Male form</label>
                <label><input type="radio" name="speakerGender" value="female"> Female form</label>
            </div>
        </div>
        <div class="topics-bar" id="topicFilters"></div>
        <div class="lesson-grid" id="lessonGrid">
            <!-- Lessons will be dynamically loaded -->
        </div>
    </section>

    <section id="vault" class="vault-section" style="display: none;">
        <h2>üìö My Learned Words Vault</h2>
        <div class="vault-stats">
            <div class="stat-card">
                <span class="stat-number" id="totalWords">0</span>
                <span class="stat-label">Words Learned</span>
            </div>
            <div class="stat-card">
                <span class="stat-number" id="streak">0</span>
                <span class="stat-label">Day Streak</span>
            </div>
        </div>
        <div class="vault-actions">
            <button class="btn-review" id="reviewBtn">Quick Review Quiz</button>
            <div id="reviewResult" class="review-result"></div>
        </div>
        <div class="vault-filters">
            <input type="text" id="vaultSearch" placeholder="Search Portuguese or English" aria-label="Search learned words">
            <div class="vault-sort-group">
                <button class="btn-sort active" id="vaultSortPt">Sort by Portuguese</button>
                <button class="btn-sort" id="vaultSortEn">Sort by English</button>
            </div>
            <button class="btn-clear" id="vaultClearFilters">Clear Filters</button>
        </div>
        <div class="word-list" id="wordList">
            <!-- Learned words will appear here -->
        </div>
    </section>

    <section id="dashboard" class="dashboard-section">
        <h2>User Dashboard</h2>
        <div class="dashboard-grid">
            <div class="dashboard-card">
                <h3>Account Status</h3>
                <p id="accountStatus">Free Plan</p>
                <button class="btn-upgrade">Upgrade to Premium</button>
            </div>
            <div class="dashboard-card">
                <h3>Progress</h3>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 0%"></div>
                </div>
                <p id="progressText">0% Complete</p>
                <button class="btn-reset" id="resetProgressBtn">Reset Progress</button>
            </div>
            <div class="dashboard-card">
                <h3>Voice Settings (EU‚ÄëPT only)</h3>
                <p class="muted">Choose a free, on-device EU Portuguese voice. Bundled Piper downloads only on demand. No Brazilian voices are shown.</p>
                <div class="voice-settings">
                    <label class="select-label">Preferred source
                        <select id="voiceSourceSelect" aria-label="Voice source">
                            <option value="auto">Auto (system first)</option>
                        </select>
                    </label>
                    <label class="select-label">Voice option
                        <select id="voiceSelect" aria-label="Voice option"></select>
                    </label>
                    <div class="voice-actions">
                        <button class="btn-small" id="voiceSampleBtn">Play Sample</button>
                        <button class="btn-small" id="voiceSaveBtn">Save Default</button>
                        <button class="btn-small" id="voiceDisableBundledBtn">Disable Bundled Voices</button>
                        <button class="btn-small" id="voiceDownloadBtn">Download Bundled Voice</button>
                    </div>
                    <div class="voice-status" id="voiceStatus">Detecting system voices‚Ä¶</div>
                    <div class="voice-diagnostics">
                        <div class="voice-line" id="voiceAvailability">System voices: ‚Äî. Bundled voice: ‚Äî.</div>
                        <div class="voice-line" id="voiceSelection">Selected: none (text only until ready).</div>
                        <div class="voice-line" id="voiceLastUsed">Last playback: idle.</div>
                    </div>
                    <div class="demo-phrase" id="voiceDemo">Demo: Ol√°! Vamos praticar portugu√™s europeu: p√£o, cora√ß√£o, obrigado, vinte e oito.</div>
                </div>
            </div>
        </div>
    </section>

    <div id="paywall" class="paywall-modal" style="display: none;">
        <div class="paywall-content">
            <span class="close-paywall">&times;</span>
            <h2>üåü Unlock Premium Features</h2>
            <div class="premium-features">
                <div class="feature">‚úì Unlimited AI Conversations</div>
                <div class="feature">‚úì Advanced Pronunciation Feedback</div>
                <div class="feature">‚úì Intermediate & Advanced Lessons</div>
                <div class="feature">‚úì Offline Access</div>
                <div class="feature">‚úì Certificate of Completion</div>
            </div>
            <button class="btn-subscribe">Subscribe Now - $9.99/month</button>
        </div>
    </div>

    <footer class="footer">
        <div class="footer-content">
            <span class="version-pill" id="appVersion">v0.4.0</span>
            <span>Built with HTML, CSS, and JavaScript</span>
        </div>
    </footer>

    <script type="module" src="./app.js"></script>
</body>
</html>
